StÃ¡le potkÃ¡vÃ¡m ve firmÃ¡ch nevhodnou volbu redundance vzhledem k bezpeÄnosti dat a vÃ½konu. Specificky tÃ­m myslÃ­m ÃºloÅ¾nÃ© schÃ©ma s jednou paritou - RAID5. ğŸ˜¡


ğŸ’¡ RAID5 je schÃ©ma, kdy pÅ™idÃ¡nÃ­m kapacity jednoho disku navÃ­c jsem schopen zajistit, Å¾e jakÃ½koliv harddisk mÅ¯Å¾e selhat a vÅ¡echna data budu schopen dopoÄÃ­tat.


ğŸ¤” To znÃ­ efektivnÄ›. KdyÅ¾ mÃ¡m ÃºloÅ¾iÅ¡tÄ› s pozicemi na 12 diskÅ¯ tak mÅ¯Å¾u vyuÅ¾Ã­t kapacitu 11 diskÅ¯ pro data - skoro 92% hrubÃ© kapacity je vyuÅ¾itelnÃ½ch. ALE, kdyÅ¾ potom vadnÃ½ disk vymÄ›nÃ­m, tak pÅ™i obnovÄ› a tedy bÄ›Å¾nÃ© zÃ¡tÄ›Å¾i + ÄtenÃ­ a tedy zÃ¡tÄ›Å¾ vÅ¡ech dalÅ¡Ã­ch diskÅ¯, aby bylo moÅ¾nÃ© chybÄ›jÃ­cÃ­ informace dopoÄÃ­tat. **PÅ™i obnovÄ› se mÅ¯Å¾e stÃ¡t, Å¾e vypadne dalÅ¡Ã­ disk a pÅ™ijdu o veÅ¡kerÃ¡ data**. PÅ™i kapacitÄ› a rychlosti ÃºloÅ¾iÅ¡Å¥, hlavnÄ› hard diskÅ¯ uÅ¾ se silnÄ› nedoporuÄuje RAID5 pouÅ¾Ã­vat, protoÅ¾e doba obnovy a tedy okno, kdy nemÃ¡me redundanci se prodluÅ¾ujeâ€¼ï¸


ğŸ’ª VÃ½bornÄ›, tak pÅ™idÃ¡me dalÅ¡Ã­ paritu a pravdÄ›podobnost ztrÃ¡ty vÃ½raznÄ› snÃ­Å¾Ã­me. VyuÅ¾Ã­vÃ¡me asi 83% kapacity na data, umÃ­me se zotavit ze ztrÃ¡ty aÅ¾ dvou libovolnÃ½ch diskÅ¯. Å˜Ã­kÃ¡me tomu RAID6.


ğŸŒ Oba tyto systÃ©my jsou pomalÃ© na zÃ¡pis, protoÅ¾e data musÃ­m rozdÄ›lit, dopoÄÃ­tat paritu, uloÅ¾it a poÄkat, aÅ¾ mi zÃ¡pis potvrdÃ­ i ten nejpomalejÅ¡Ã­ disk a aÅ¾ potÃ© mÅ¯Å¾u ÃºspÄ›ch zÃ¡pisu ohlÃ¡sit. Naopak ÄtenÃ­ je pomÄ›rnÄ› rychlÃ©, protoÅ¾e mÅ¯Å¾u brÃ¡t data z hodnÄ› diskÅ¯.


ğŸ¯ Å˜eÅ¡enÃ­m je, zÃ­skat vÃ½kon na Ãºkor kapacity. Tento systÃ©m se jmenuje RAID10 a typicky se sklÃ¡dÃ¡ z pÃ¡rÅ¯ ÃºloÅ¾nÃ½ch zaÅ™Ã­zenÃ­, kterÃ© majÃ­ ty samÃ¡ data. **Je to nejrychlejÅ¡Ã­ schÃ©ma, ale je to tÃ­m, Å¾e polovinu kapacity investuji do redundance a vÃ½konu**. KdyÅ¾ jeden disk umÅ™e, na obnovu redundance je potÅ™eba ÄÃ­st jen z jeho kolegy, kterÃ½ samozÅ™ejmÄ› pod zÃ¡tÄ›Å¾Ã­ nesmÃ­ takÃ© umÅ™Ã­t. V reÃ¡lu je to nepravdÄ›podobnÃ© a obnova je velmi rychlÃ¡. Toto schÃ©ma se hodÃ­ pro databÃ¡zovÃ© servery, logy, prostÄ› vÅ¡ude tam, kde bude znaÄnÃ¡ zÃ¡tÄ›Å¾ v zÃ¡pisu i ÄtenÃ­.


Pokud mÃ¡m tedy 12 pozic, mÅ¯Å¾u mÃ­t kapacitu:

ğŸ‘‰ 6 diskÅ¯ a vÃ½bornÃ½ vÃ½kon RAID10,

ğŸ‘‰ 10 diskÅ¯ a tolerovat vÃ½padek 2 libovolnÃ½ch diskÅ¯ s RAID6,

ğŸ‘‰ 8 diskÅ¯ jako kompromis, tzv. RAID60, tedy 2x RAID6 z 6 diskÅ¯. TÃ­m se skoro zdvojnÃ¡sobÃ­ vÃ½kon v zÃ¡pisu, ale pÅ™ijdu o kapacitu 2 dalÅ¡Ã­ch diskÅ¯ oproti jednoduchÃ©mu RAID6. Ale poÅ™Ã¡d je to o 2 vÃ­ce, neÅ¾ u RAID10!


Nebojte se s nÃ¡mi projÃ­t strategii uklÃ¡dÃ¡nÃ­ dat dokud vypadÃ¡ ÃºloÅ¾iÅ¡tÄ› zdravÄ›.


#kaliszutelefonu #storage #RAID #ZFS #mdadm #LVM #Proxmox #fileserver #backup #restore


Published: 2024-08-23T08:45:02.875 in Prague

Original article URL: https://www.linkedin.com/posts/adam-kalisz-nnm_kaliszutelefonu-storage-raid-activity-7232638955291095044-GPKw

[Backblaze Q2 2024 Lifetime Annualized Failure Rates](./media/2-Lifetime-Failure-Rates-Q2-2024.webp)
